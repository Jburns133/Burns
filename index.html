<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Retro Bio-Scan Demo</title>
  <style>
    :root{
      --bg:#0b1220;
      --accent:#00ff88;
      --accent-2:#ff2b2b;
      --retro:#bfc09a;
      --mono:'Courier New',monospace;
      --glass: rgba(0,0,0,0.45);
    }
    html,body{height:100%;margin:0;background:linear-gradient(#02060a,#041021);font-family:var(--mono);color:var(--accent);overflow:hidden}
    .stage{width:100%;height:100%;position:relative;display:flex;align-items:center;justify-content:center}
    /* --- Screen 1: Welcome / Enter --- */
    #screen-welcome{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;background:#0d1a2a url('image1.jpg') center/cover no-repeat}
    /* top-left prompt area */
    .prompt{
      margin:28px;align-self:flex-start;color:#e6f3ff;font-size:18px;background:rgba(0,0,0,0.6);padding:8px 12px;border-radius:6px;display:flex;gap:12px;align-items:center;
      box-shadow:0 6px 16px rgba(0,0,0,0.6);
    }
    .prompt .cursor{font-weight:700;color:#bfffd6}
    .enter-btn{
      background:linear-gradient(180deg,#cfd09a,#9a9f7a);
      color:#042118;padding:6px 12px;border-radius:4px;font-weight:700;border:3px solid #303020;cursor:pointer;
      box-shadow: 2px 3px 0 rgba(0,0,0,0.35) inset, 0 6px 12px rgba(0,0,0,0.6);
      transform:translateY(0);transition:transform .08s ease;
    }
    .enter-btn:active{transform:translateY(2px)}
    /* --- Screen 2: Body scan --- */
    #screen-scan{position:absolute;inset:0;display:none;align-items:center;justify-content:center;background:#000}
    .scan-wrap{width:min(1100px,93vw);height:min(720px,85vh);display:flex;gap:18px;align-items:stretch}
    .left-panel{flex:0 0 56%;position:relative;background:#07101a;border:2px solid rgba(0,255,136,0.06);box-shadow:0 10px 40px rgba(0,0,0,0.9);overflow:hidden;border-radius:6px}
    .photo{
      position:absolute;inset:0;background: #001218 url('image2.jpg') center/cover no-repeat;filter:contrast(1.05) saturate(0.85);display:flex;align-items:center;justify-content:center;
    }
    /* scanning overlay (animated) */
    .scan-overlay{
      position:absolute;inset:0;pointer-events:none;
      display:flex;align-items:center;justify-content:center;
    }
    /* vertical scan bars and grid */
    .scan-grid{
      position:absolute;inset:6% 10%;border:2px solid rgba(255,200,0,0.45);mix-blend-mode:screen;
      background-image:linear-gradient(to bottom, rgba(255,200,0,0.03) 0 1px, transparent 1px), linear-gradient(to right, rgba(255,200,0,0.02) 0 1px, transparent 1px);
      background-size:100% 40px, 40px 100%;
    }
    /* sweeping scanner */
    .sweep{
      position:absolute;left:-30%;top:-10%;width:40%;height:120%;
      background:linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.03) 45%, rgba(255,255,255,0.08) 50%, rgba(255,255,255,0.03) 55%, rgba(255,255,255,0) 100%);
      transform:skewX(-18deg);
      animation:sweep 3s linear infinite;
      mix-blend-mode:screen;
      filter:blur(0.4px);
    }
    @keyframes sweep{
      0%{left:-30%}
      50%{left:60%}
      100%{left:120%}
    }
    /* biometric HUD to right */
    .side-panel{flex:0 0 38%;padding:18px;background:linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.3));border-radius:6px;border:2px solid rgba(0,255,136,0.06);display:flex;flex-direction:column;gap:12px}
    .hud-title{font-size:22px;color:var(--accent-2);letter-spacing:1px}
    .hud-sub{font-size:13px;color:#9fded0}
    .biometrics{background:linear-gradient(90deg, rgba(0,0,0,0.2), rgba(0,0,0,0.05));padding:12px;border-radius:6px;flex:1;display:flex;flex-direction:column;gap:6px;overflow:auto}
    .bio-row{display:flex;justify-content:space-between;padding:6px 8px;border-bottom:1px dashed rgba(255,255,255,0.03)}
    .bio-label{color:#8de2c5}
    .bio-value{color:#fff;font-weight:700}
    .status{height:40px;display:flex;align-items:center;justify-content:center;border-radius:6px;background:#021016;color:#bfffd6;font-weight:800;border:2px solid rgba(0,255,136,0.08)}
    .signal{color:var(--accent-2);font-weight:900;letter-spacing:1px;font-size:14px}
    .progress{
      height:8px;background:rgba(255,255,255,0.04);border-radius:999px;overflow:hidden;margin-top:6px;
      box-shadow:inset 0 -2px 6px rgba(0,0,0,0.6);
    }
    .progress > i{display:block;height:100%;width:0%;background:linear-gradient(90deg,var(--accent), #70ffb4);animation:progressAnim 6s linear forwards}
    @keyframes progressAnim{to{width:100%}}
    .small-note{font-size:11px;color:#7fd7c7;margin-top:6px}
    /* bottom signal text on left panel */
    .bottom-banner{
      position:absolute;left:0;right:0;bottom:0;padding:12px;background:linear-gradient(180deg, transparent, rgba(0,0,0,0.7));text-align:center;color:#cfeee0;font-weight:800;font-size:14px;letter-spacing:1px;
    }
    /* --- Screen 3: Globe --- */
    #screen-globe{position:absolute;inset:0;display:none;align-items:center;justify-content:center;background:#000}
    .globe-wrap{position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center}
    .globe-bg{width:min(1200px,95vw);height:min(800px,90vh);background:url('image3.jpg') center/cover no-repeat;border-radius:6px;box-shadow:0 20px 60px rgba(0,0,0,0.85);position:relative;overflow:hidden;border:3px solid rgba(0,255,136,0.05);}
    /* red arc animations - purely decorative */
    .arc{position:absolute;inset:0;pointer-events:none}
    .arc svg{position:absolute;width:140%;left:-20%;top:-10%;}
    .ping{position:absolute;width:22px;height:22px;border-radius:50%;background:var(--accent-2);box-shadow:0 0 18px rgba(255,50,50,0.8),0 0 50px rgba(255,30,30,0.2);left:62%;top:34%;transform:translate(-50%,-50%)}
    .ping::after{content:"";position:absolute;inset:0;border-radius:50%;animation:pingPulse 1.6s ease-out infinite}
    @keyframes pingPulse{0%{transform:scale(1);opacity:1}100%{transform:scale(3.8);opacity:0}}
    .globe-caption{position:absolute;left:24px;top:24px;color:#ffd6a6;font-weight:800;background:rgba(0,0,0,0.45);padding:8px 12px;border-radius:6px;border:1px solid rgba(255,200,150,0.06)}
    .small-hud{position:absolute;right:24px;bottom:24px;background:rgba(0,0,0,0.5);padding:12px;border-radius:6px;color:#8fffd3;border:1px solid rgba(0,255,136,0.06)}
    /* small responsive niceties */
    @media (max-width:900px){
      .scan-wrap{flex-direction:column;height:90vh}
      .left-panel,.side-panel{flex-basis:auto;width:100%}
      .side-panel{order:2}
      .left-panel{order:1;height:55vh}
    }
  </style>
</head>
<body>
  <div class="stage">
    <!-- SCREEN 1 -->
    <section id="screen-welcome" aria-hidden="false">
      <div class="prompt" role="region" aria-label="prompt">
        <div>A:<span class="cursor">:&gt;_</span></div>
        <button class="enter-btn" id="enterBtn" aria-label="Enter system">Enter</button>
      </div>
      <!-- a dim overlay box at center so text stands out if needed -->
      <div style="flex:1;display:flex;align-items:center;justify-content:center;width:100%">
        <!-- intentional empty center: image1 is background -->
      </div>
    </section>

    <!-- SCREEN 2: Body scan -->
    <section id="screen-scan" aria-hidden="true">
      <div class="scan-wrap" role="main" aria-label="Body scan">
        <div class="left-panel">
          <div class="photo" aria-hidden="true"></div>
          <div class="scan-overlay" aria-hidden="true">
            <div class="scan-grid"></div>
            <div class="sweep"></div>
          </div>
          <div class="bottom-banner">
            <span id="scanStatus">Searching target — Signal... </span>
          </div>
        </div>

        <aside class="side-panel" aria-label="biometrics panel">
          <div>
            <div class="hud-title">CONFIRM I.D.</div>
            <div class="hud-sub">Target: HOUSEWIFE — FILE S73.4</div>
          </div>

          <div class="biometrics" id="biometricsList" aria-live="polite">
            <div class="bio-row"><div class="bio-label">Name</div><div class="bio-value">Jamar B.</div></div>
            <div class="bio-row"><div class="bio-label">Eye color</div><div class="bio-value">Light Brown</div></div>
            <div class="bio-row"><div class="bio-label">Hair</div><div class="bio-value">Curly Black</div></div>
            <div class="bio-row"><div class="bio-label">Skin</div><div class="bio-value">Black</div></div>
            <div class="bio-row"><div class="bio-label">Height</div><div class="bio-value">5'8"</div></div>
            <div class="bio-row"><div class="bio-label">Criminal records</div><div class="bio-value" style="font-weight:600">--</div></div>
            <div class="bio-row" style="padding-top:10px"><div class="bio-label">Notes</div><div class="bio-value">Acquiring signature &amp; positional fix</div></div>

            <div style="margin-top:8px">
              <div class="status" id="scanProgressText">ACQUIRING SIGNAL...</div>
              <div class="progress" aria-hidden="true"><i></i></div>
              <div class="small-note">Biometric scanners online • Neural-match engaged</div>
            </div>
          </div>

          <div style="display:flex;gap:8px;align-items:center;justify-content:space-between">
            <div style="font-size:12px;color:#79ffd1">Confidence: <strong id="confidence">...%</strong></div>
            <button id="continueToGlobe" class="enter-btn" style="background:linear-gradient(180deg,#ff7b7b,#d64d4d);border-color:#702020">TRACK</button>
          </div>
        </aside>
      </div>
    </section>

    <!-- SCREEN 3: Globe -->
    <section id="screen-globe" aria-hidden="true">
      <div class="globe-wrap">
        <div class="globe-bg" role="region" aria-label="Global locator">
          <!-- decorative arcs -->
          <div class="arc" aria-hidden="true">
            <svg viewBox="0 0 800 600" preserveAspectRatio="xMidYMid slice">
              <g fill="none" stroke="#ff3b3b" stroke-width="4" stroke-dasharray="14 8" opacity="0.9">
                <path d="M40 520 C200 400 500 100 760 60" transform="translate(0,-40)"/>
                <path d="M760 520 C560 360 340 120 80 80" transform="translate(0,-10)"/>
              </g>
            </svg>
          </div>

          <!-- ping location (approximate mapping for the sample image) -->
          <div class="ping" id="ping" title="Target located"></div>

          <div class="globe-caption">GLOBAL TRACKING — TARGET: JAMAR B.</div>
          <div class="small-hud" id="locHUD">LOCATING... <div style="font-weight:900;color:#ffd6a6">NYC — Signal: STRONG</div></div>
        </div>
      </div>
    </section>

  </div>

  <script>
    // Main navigation
    const enterBtn = document.getElementById('enterBtn');
    const screenWelcome = document.getElementById('screen-welcome');
    const screenScan = document.getElementById('screen-scan');
    const screenGlobe = document.getElementById('screen-globe');
    const scanStatus = document.getElementById('scanStatus');
    const confidenceEl = document.getElementById('confidence');
    const continueBtn = document.getElementById('continueToGlobe');
    const biometrics = document.querySelectorAll('.biometrics .bio-row .bio-value');

    // Minimal accessibility focus management
    function showScreen(showEl){
      [screenWelcome, screenScan, screenGlobe].forEach(s=>{
        if(s===showEl){ s.style.display='flex'; s.setAttribute('aria-hidden','false'); }
        else { s.style.display='none'; s.setAttribute('aria-hidden','true'); }
      });
      // reset body scroll
      try{ window.scrollTo(0,0) } catch(e){}
    }

    enterBtn.addEventListener('click', async () => {
      // transition to scan
      showScreen(screenScan);

      // scan simulated steps
      scanStatus.textContent = 'Searching for Jamar B...'
      confidenceEl.textContent = '0%';

      // slow reveal of details and update the "Criminal records" line after simulated time
      await wait(800);
      updateBio('Criminal records','Arrest - Inciting riot (racial harmony)');

      await wait(1400);
      updateBio(undefined,'Possession - Marijuana', 5);

      await wait(1400);
      updateBio(undefined,'Signal quality: Strong');

      // animate confidence
      await animateConfidence(0, 93, 4800);

      // final mark
      await wait(200);
      scanStatus.textContent = 'Signal Acquired';
      document.querySelector('.status').textContent = 'SIGNAL ACQUIRED';
      document.querySelector('.status').style.background = 'linear-gradient(90deg,#071a10,#022219)';
    });

    continueBtn.addEventListener('click', () => {
      // jump to globe -- show approximate ping location for NYC
      showScreen(screenGlobe);
      // optionally animate ping position slightly (in case image differs, you can tweak)
      const ping = document.getElementById('ping');
      // set ping position relative to globe-bg size:
      // If your image3.jpg maps differently, change the percentage values (left/top)
      ping.style.left = '62%'; // adjust for your globe image
      ping.style.top  = '34%';
      // small caption update
      document.getElementById('locHUD').innerHTML = `GPS FIX — <div style="font-weight:900;color:#ffd6a6">NYC • Manhattan • Signal: STRONG</div>`;
    });

    // helpers
    function wait(ms=500){ return new Promise(r=>setTimeout(r,ms)) }

    function updateBio(label, value, idx=0){
      // if label provided, find the row and update; else append next available field
      const rows = document.querySelectorAll('.biometrics .bio-row');
      if(label){
        for(const r of rows){
          if(r.children[0].textContent.trim() === label){
            r.children[1].textContent = value;
            return;
          }
        }
      }
      // fallback: replace the second line of "Criminal records" row if exists
      const crimRow = [...rows].find(r=>r.children[0].textContent.trim().toLowerCase().includes('criminal'));
      if(crimRow){
        let cur = crimRow.children[1].textContent;
        if(cur === '--') crimRow.children[1].textContent = value;
        else crimRow.children[1].textContent = cur + ' • ' + value;
      }
    }

    async function animateConfidence(from, to, duration){
      const el = confidenceEl;
      const steps = Math.max(20, Math.floor(duration/60));
      for(let i=0;i<=steps;i++){
        const pct = from + (to-from) * (i/steps);
        el.textContent = Math.floor(pct) + '%';
        await wait(Math.round(duration/steps));
      }
      el.textContent = to + '%';
    }

    // initial screen shown
    showScreen(screenWelcome);

    // handle keyboard Enter as activation
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter'){
        const visible = screenWelcome.style.display !== 'none';
        if(visible) enterBtn.click();
      }
    });

    // small note: treat "Jamar B." as a fictional test subject for demo purposes.
  </script>
</body>
</html>